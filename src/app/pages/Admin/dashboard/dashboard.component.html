<div class="content">
  <app-navbar></app-navbar>
  <main>
    <div class="header">
      <div class="left">
        <h1>Tasks</h1>
        <ul class="breadcrumb">
          <li><a>Dashboard</a></li>
          <li><a class="active">Task List</a></li>
        </ul>
      </div>
      <a class="report">
        <i class="bx bx-cloud-download"></i>
        <span>Download Task PDF</span>
      </a>
    </div>
    <!-- Insights -->
    <ul class="insights">
      <li
        [class.selected]="selectedCard === 'tasksAssigned'"
        (click)="selectCard('tasksAssigned', 'mytask')"
      >
        <i class="bx bx-task"></i>
        <span class="info">
          <h3>{{ myTaskCount }}</h3>
          <p>Tasks assigned to you</p>
        </span>
      </li>
      <li
        [class.selected]="selectedCard === 'todaysTasks'"
        (click)="selectCard('todaysTasks', 'today')"
      >
        <i class="bx bx-time-five"></i>
        <span class="info">
          <h3>{{ todayTaskCount }}</h3>
          <p>Today's Tasks</p>
        </span>
      </li>
      <li
        [class.selected]="selectedCard === 'tasksOverdue'"
        (click)="selectCard('tasksOverdue', 'overdue')"
      >
        <i class="bx bx-error"></i>
        <span class="info">
          <h3>{{ overdueTaskCount }}</h3>
          <p>Tasks overdue</p>
        </span>
      </li>
      <li
        [class.selected]="selectedCard === 'tasksCompleted'"
        (click)="selectCard('tasksCompleted', 'taskcomplete')"
      >
        <i class="bx bx-check-circle"></i>
        <span class="info">
          <h3>{{ taskCompleted }}</h3>
          <p>Tasks completed</p>
        </span>
      </li>
      <li
        [class.selected]="selectedCard === 'tasksCreated'"
        (click)="selectCard('tasksCreated', 'createdByMe')"
      >
        <i class="bx bx-plus-circle"></i>
        <span class="info">
          <h3>{{ createdByMeTaskCount }}</h3>
          <p>Tasks created by you</p>
        </span>
      </li>
    </ul>
    <!-- End of Insights -->
    <app-task-table
      (addTaskClicked)="openModal()"
      (taskCountUpdated)="onTaskCountUpdated($event)"
      [filterType]="filterType"
    >
    </app-task-table>
  </main>
  <app-addtask-modelpopup
    *ngIf="isModalOpen"
    (closePopup)="closeModal()"
  ></app-addtask-modelpopup>
</div>
